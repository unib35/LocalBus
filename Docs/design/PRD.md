# LocalBus PRD

**Product Requirements Document**
**Version:** 1.1 (Jangyu MVP)
**Date:** 2026-01-10
**Status:** Draft

---

## 1. 제품 개요

### 1.1 제품명
**LocalBus** (로컬버스)

### 1.2 제품 한 줄 설명
종이로만 제공되던 지역 버스 시간표를 모바일에서 **가장 빠르고 정확하게** 확인할 수 있는 지역 밀착형 버스 시간표 앱

---

## 2. 문제 정의

### 2.1 현재 문제
장유 지역에서 부산(사상)으로 운행하는 시외버스는 다음과 같은 페인 포인트(Pain Points)를 가진다.
* **물리적 제약:** 시간표가 버스 정류장에 종이로만 부착되어 있음
* **업데이트 지연:** 시간표 변경 주기(3~6개월)마다 이용자가 직접 사진을 다시 찍어야 함
* **가독성 저하:** 사진 갤러리에서 시간표를 찾기 번거롭고, 평일/주말 구분이 한눈에 들어오지 않음
* **신뢰성 부족:** 포털 사이트나 지도 앱의 정보와 실제 운행 시간이 다를 때가 많음

### 2.2 사용자 현재 행동
* 정류장 벽보 촬영 → 갤러리 즐겨찾기 또는 카카오톡 '나에게 보내기' 저장
* **문제점:** 갤러리 스크롤 압박, 확대를 해야만 시간이 보임, "이게 최신인가?" 하는 불안감 존재

---

## 3. 목표 (Goals)

### 3.1 MVP 핵심 목표
* **Zero-Click Info:** 앱 실행 즉시 내가 타야 할 **'다음 버스'**가 언제인지 확인 가능해야 함
* **Always Up-to-Date:** 앱 업데이트(심사) 없이 데이터 갱신만으로 시간표 변경 반영
* **Context Aware:** 오늘이 평일인지, 주말(또는 공휴일)인지 자동으로 판단하여 적절한 시간표 노출

### 3.2 비목표 (Non-Goals)
MVP 단계에서는 아래 기능을 고려하지 않는다.
* 전국/타 지역 노선 확장 (오직 장유-사상 노선만 집중)
* 실시간 버스 위치 정보 (GPS 트래킹 X)
* 회원가입 / 로그인 / 서버 구축 (Backend-less)
* 복잡한 설정 화면

---

## 4. 타겟 사용자

### 4.1 페르소나
* **김장유 (30대 직장인):** 매일 아침 출근길에 "지금 나가면 몇 시 차 타지?"를 1초 만에 알고 싶어 함.
* **이대학 (20대 대학생):** 주말에 부산으로 놀러 갈 때 버스 시간을 확인. 데이터가 없을 때도 확인하고 싶어 함.

---

## 5. MVP 기능 상세 (Functional Requirements)

### 5.1 핵심 기능 (Must Have)

#### 1) 스마트 타임테이블 (Main View)
* **리스트 뷰:** 시간 순서대로 정렬된 버스 시간 리스트 제공
* **[New] 다음 버스 포커싱:** 앱 실행 시, **현재 시간 이후 가장 가까운 버스** 위치로 자동 스크롤 및 시각적 강조(Bold/Color) 처리
* **[New] 운행 종료 처리:** 막차 시간이 지난 경우, *"오늘 운행이 종료되었습니다. 첫차는 00:00입니다."* 문구 노출

#### 2) 지능형 날짜 구분
* **평일/주말 자동 전환:** 앱 실행 시점의 요일과 날짜를 체크하여 자동으로 탭 선택
* **[New] 공휴일 예외 처리:** 평일(월~금)이더라도, 데이터(JSON)에 정의된 '공휴일 리스트'에 해당하면 **주말 시간표**를 자동으로 로드

#### 3) 동적 데이터 업데이트 & 공지
* **원격 JSON 로드:** 앱 실행 시 GitHub Raw(또는 CDN) JSON을 비동기 요청하여 최신 데이터 반영
* **[New] 긴급 공지 배너:** 데이터 파일 내 `notice` 필드에 값이 있을 경우, 상단에 띠 배너 형태로 공지 노출 (예: "설 연휴 임시 시간표 운행 중")

#### 4) 오프라인 모드 & 캐싱
* **Last-Known Good Config:** 네트워크 연결 실패 시, 로컬에 저장된 마지막 성공 데이터를 보여줌
* **토스트 메시지:** 오프라인 상태일 경우 *"오프라인 모드입니다. (마지막 업데이트: MM.DD)"* 안내

#### 5) 최소한의 피드백 (설정 탭 X, 메인 하단)
* **[New] 제보하기 링크:** 화면 최하단 또는 정보 아이콘을 통해 "시간표 제보/문의" 메일 쓰기 연동
    * *목적:* 잘못된 정보 발견 시 사용자가 불만을 표출하는 대신 제보할 수 있는 창구 마련

---

## 6. 사용자 플로우 (User Flow)

1.  **App Open (Cold Start)**
    * Splash (로고) → 네트워크 데이터 체크 (비동기)
2.  **Main Screen**
    * (성공 시) 최신 데이터 로드 / (실패 시) 로컬 데이터 로드
    * 오늘 날짜가 '평일' vs '주말/공휴일'인지 판단 → 탭 자동 선택
    * 현재 시간(HH:mm) 비교 → **다음 버스 셀(Cell)로 자동 스크롤**
3.  **Interaction**
    * 사용자가 탭을 눌러 평일/주말 수동 확인 가능
    * 시간표 셀 탭(Tap) → "시간 복사됨" (선택사항)

---

## 7. 데이터 요구사항 (JSON Schema)

데이터는 아래 JSON 구조를 준수하여 관리한다.

```json
{
  "meta": {
    "version": 1,
    "updated_at": "2026-01-10",
    "notice_message": "도로 공사로 인해 5분 정도 지연될 수 있습니다.", 
    "contact_email": "help@localbus.com"
  },
  "holidays": [
    "2026-02-09",
    "2026-02-10",
    "2026-05-05"
  ],
  "timetable": {
    "weekday": ["06:00", "06:20", "06:40", "07:00"],
    "weekend": ["06:30", "07:00", "07:30"]
  }
}